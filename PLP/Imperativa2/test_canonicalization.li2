{
    var count = 0;
    var a = 5;
    var b = 3;
    
    // Test 1: Pure commutativity - should recognize (a + b) == (b + a)
    // This should trigger the optimization and evaluate only once
    if ((a + b) in [(b + a)..10]) {
        write("Test 1 PASSED: Pure commutativity recognized");
    } else {
        write("Test 1 FAILED");
    }
    
    // Test 2: Basic interval test (control case)
    if (5 in [1..10]) {
        write("Test 2 PASSED: Basic interval works");
    } else {
        write("Test 2 FAILED");
    }
    
    // Test 3: Tautology with side effects (original test from README)
    func side_effect_func() : int {
        count := count + 1;
        return 5;
    }
    
    if (side_effect_func() in [side_effect_func()..10)) {
        write("Test 3: Side effect function executed");
    }
    
    write("Count after Test 3:");
    write(count);
    write("Expected: 1 (should execute only once due to memoization)");
}
